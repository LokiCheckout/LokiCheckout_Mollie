<?php
declare(strict_types=1);

use Magento\Framework\View\Element\Template;
use Yireo\LokiComponents\Util\Block\CssClass;
use Yireo\LokiCheckoutMollie\Component\Checkout\Payment\Method\Creditcard\CreditcardViewModel;

/** @var CreditcardViewModel $viewModel */
/** @var Template $block */
/** @var CssClass $css */
// @todo: Move this into XML layout instead
$fields = [
    ['card-holder', 'Card Holder', 'col-span-2'],
    ['card-number', 'Card Number', 'col-span-2'],
    ['expiry-date', 'Expiry Date', ''],
    ['verification-code', 'Verification Code', ''],
];
?>
<div class="<?= $css('grid grid-cols-2 gap-4') ?>">
    <?php foreach ($fields as $field): ?>
        <?php $fieldCode = $field[0]; ?>
        <?php $fieldLabel = $field[1]; ?>
        <?php $fieldClass = $field[2]; ?>
        <div class="<?= $fieldClass ?>">
            <label class="<?= $css('inline-block mb-1.5', 'label') ?>">
                <?= __($fieldLabel) ?>
            </label>

            <div id="<?= $viewModel->getElementId() ?>-<?= $fieldCode ?>"></div>
            <div class="loki-components-messages">
                <div class="error" id="<?= $viewModel->getElementId() ?>-<?= $fieldCode ?>-error"></div>
            </div>
        </div>
    <?php endforeach; ?>

    <style>
        .mollie-component {
            height: auto !important;
        }
    </style>
</div>
